<!DOCTYPE html>
<html lang="zh-Hant">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>玩具故事上傳</title>
  <style>
    body {
      margin: 0;
      padding: 2em;
      font-family: sans-serif;
      display: flex;
      flex-direction: column;
      align-items: center;
      background: #fff;
    }

    .device {
      width: 355.821px;
      height: 134.856px;
      border: 3px solid #000;
      border-radius: 8px;
      display: flex;
      align-items: center;
      justify-content: center;
      position: relative;
      padding: 0.5em;
    }

    .inner-frame {
      position: absolute;
      width: 90%;
      height: 75%;
      border: 1.5px solid #000;
      border-radius: 6px;
      pointer-events: none; /* 不影響內部點擊 */
    }

    .content {
      display: flex;
      align-items: center;
      justify-content: center; /* 改成集中排列 */
      gap: 30px; /* 調整這個值控制水平間距，可以從 10px 開始調 */
      width: 100%;
    }

    .button {
      padding: 1em 2em;
      font-size: 1.2em;
      border: 2px solid #000;
      border-radius: 6px;
      background: #fff;
      color: #000;
      cursor: pointer;
      transition: 0.2s;
    }

    .button.sending {
      background: #555;
      color: #fff;
    }

    .button.success {
      border-color: green;
    }

    input[type="file"] {
      margin-top: 1.5em;  /* 增加與 device 的距離 */
      margin-bottom: 1em; /* 保留下方距離 */
    }

    svg {
      width: 60px;
      height: 58px;
    }

    .rect {
      width: 118px;
      height: 54px;
      border: 3px solid #000;
      border-radius: 3px;
    }

    .circle {
      width: 50px;
      height: 50px;
      background: #000;
      border-radius: 50%;
    }
  </style>
</head>
<body>
  <div class="device">
    <div class="inner-frame"></div> <!-- 內框 -->

    <div class="content">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 62 59" fill="none">
        <path d="M4.40971 17.4858C6.32609 17.4858 7.87962 15.9399 7.87962 14.0329C7.87962 12.1258 6.32609 10.5799 4.40971 10.5799C2.49334 10.5799 0.939812 12.1258 0.939812 14.0329C0.939812 15.9399 2.49334 17.4858 4.40971 17.4858Z" fill="black"/>
        <path d="M4.40971 27.7256C6.32609 27.7256 7.87962 26.1797 7.87962 24.2727C7.87962 22.3656 6.32609 20.8197 4.40971 20.8197C2.49334 20.8197 0.939812 22.3656 0.939812 24.2727C0.939812 26.1797 2.49334 27.7256 4.40971 27.7256Z" fill="black"/>
        <path d="M4.40971 37.9893C6.32609 37.9893 7.87962 36.4433 7.87962 34.5363C7.87962 32.6293 6.32609 31.0833 4.40971 31.0833C2.49334 31.0833 0.939812 32.6293 0.939812 34.5363C0.939812 36.4433 2.49334 37.9893 4.40971 37.9893Z" fill="black"/>
        <path d="M4.40971 48.2291C6.32609 48.2291 7.87962 46.6831 7.87962 44.7761C7.87962 42.8691 6.32609 41.3232 4.40971 41.3232C2.49334 41.3232 0.939812 42.8691 0.939812 44.7761C0.939812 46.6831 2.49334 48.2291 4.40971 48.2291Z" fill="black"/>
        <path d="M15.0587 7.24601C16.9751 7.24601 18.5286 5.70006 18.5286 3.79305C18.5286 1.88603 16.9751 0.340088 15.0587 0.340088C13.1424 0.340088 11.5888 1.88603 11.5888 3.79305C11.5888 5.70006 13.1424 7.24601 15.0587 7.24601Z" fill="black"/>
        <path d="M15.0587 17.4858C16.9751 17.4858 18.5286 15.9399 18.5286 14.0329C18.5286 12.1258 16.9751 10.5799 15.0587 10.5799C13.1424 10.5799 11.5888 12.1258 11.5888 14.0329C11.5888 15.9399 13.1424 17.4858 15.0587 17.4858Z" fill="black"/>
        <path d="M15.0587 27.7256C16.9751 27.7256 18.5286 26.1797 18.5286 24.2727C18.5286 22.3656 16.9751 20.8197 15.0587 20.8197C13.1424 20.8197 11.5888 22.3656 11.5888 24.2727C11.5888 26.1797 13.1424 27.7256 15.0587 27.7256Z" fill="black"/>
        <path d="M15.0587 37.9893C16.9751 37.9893 18.5286 36.4433 18.5286 34.5363C18.5286 32.6293 16.9751 31.0833 15.0587 31.0833C13.1424 31.0833 11.5888 32.6293 11.5888 34.5363C11.5888 36.4433 13.1424 37.9893 15.0587 37.9893Z" fill="black"/>
        <path d="M15.0587 48.2291C16.9751 48.2291 18.5286 46.6831 18.5286 44.7761C18.5286 42.8691 16.9751 41.3232 15.0587 41.3232C13.1424 41.3232 11.5888 42.8691 11.5888 44.7761C11.5888 46.6831 13.1424 48.2291 15.0587 48.2291Z" fill="black"/>
        <path d="M15.0587 58.4927C16.9751 58.4927 18.5286 56.9467 18.5286 55.0397C18.5286 53.1327 16.9751 51.5868 15.0587 51.5868C13.1424 51.5868 11.5888 53.1327 11.5888 55.0397C11.5888 56.9467 13.1424 58.4927 15.0587 58.4927Z" fill="black"/>
        <path d="M25.6838 7.24601C27.6002 7.24601 29.1537 5.70006 29.1537 3.79305C29.1537 1.88603 27.6002 0.340088 25.6838 0.340088C23.7675 0.340088 22.2139 1.88603 22.2139 3.79305C22.2139 5.70006 23.7675 7.24601 25.6838 7.24601Z" fill="black"/>
        <path d="M25.6838 17.4858C27.6002 17.4858 29.1537 15.9399 29.1537 14.0329C29.1537 12.1258 27.6002 10.5799 25.6838 10.5799C23.7675 10.5799 22.2139 12.1258 22.2139 14.0329C22.2139 15.9399 23.7675 17.4858 25.6838 17.4858Z" fill="black"/>
        <path d="M25.6838 27.7256C27.6002 27.7256 29.1537 26.1797 29.1537 24.2727C29.1537 22.3656 27.6002 20.8197 25.6838 20.8197C23.7675 20.8197 22.2139 22.3656 22.2139 24.2727C22.2139 26.1797 23.7675 27.7256 25.6838 27.7256Z" fill="black"/>
        <path d="M25.6838 37.9893C27.6002 37.9893 29.1537 36.4433 29.1537 34.5363C29.1537 32.6293 27.6002 31.0833 25.6838 31.0833C23.7675 31.0833 22.2139 32.6293 22.2139 34.5363C22.2139 36.4433 23.7675 37.9893 25.6838 37.9893Z" fill="black"/>
        <path d="M25.6838 48.2291C27.6002 48.2291 29.1537 46.6831 29.1537 44.7761C29.1537 42.8691 27.6002 41.3232 25.6838 41.3232C23.7675 41.3232 22.2139 42.8691 22.2139 44.7761C22.2139 46.6831 23.7675 48.2291 25.6838 48.2291Z" fill="black"/>
        <path d="M25.6838 58.4927C27.6002 58.4927 29.1537 56.9467 29.1537 55.0397C29.1537 53.1327 27.6002 51.5868 25.6838 51.5868C23.7675 51.5868 22.2139 53.1327 22.2139 55.0397C22.2139 56.9467 23.7675 58.4927 25.6838 58.4927Z" fill="black"/>
        <path d="M36.3089 7.24601C38.2253 7.24601 39.7788 5.70006 39.7788 3.79305C39.7788 1.88603 38.2253 0.340088 36.3089 0.340088C34.3925 0.340088 32.839 1.88603 32.839 3.79305C32.839 5.70006 34.3925 7.24601 36.3089 7.24601Z" fill="black"/>
        <path d="M36.3089 17.4858C38.2253 17.4858 39.7788 15.9399 39.7788 14.0329C39.7788 12.1258 38.2253 10.5799 36.3089 10.5799C34.3925 10.5799 32.839 12.1258 32.839 14.0329C32.839 15.9399 34.3925 17.4858 36.3089 17.4858Z" fill="black"/>
        <path d="M36.3089 27.7256C38.2253 27.7256 39.7788 26.1797 39.7788 24.2727C39.7788 22.3656 38.2253 20.8197 36.3089 20.8197C34.3925 20.8197 32.839 22.3656 32.839 24.2727C32.839 26.1797 34.3925 27.7256 36.3089 27.7256Z" fill="black"/>
        <path d="M36.3089 37.9893C38.2253 37.9893 39.7788 36.4433 39.7788 34.5363C39.7788 32.6293 38.2253 31.0833 36.3089 31.0833C34.3925 31.0833 32.839 32.6293 32.839 34.5363C32.839 36.4433 34.3925 37.9893 36.3089 37.9893Z" fill="black"/>
        <path d="M36.3089 48.2291C38.2253 48.2291 39.7788 46.6831 39.7788 44.7761C39.7788 42.8691 38.2253 41.3232 36.3089 41.3232C34.3925 41.3232 32.839 42.8691 32.839 44.7761C32.839 46.6831 34.3925 48.2291 36.3089 48.2291Z" fill="black"/>
        <path d="M36.3089 58.4927C38.2253 58.4927 39.7788 56.9467 39.7788 55.0397C39.7788 53.1327 38.2253 51.5868 36.3089 51.5868C34.3925 51.5868 32.839 53.1327 32.839 55.0397C32.839 56.9467 34.3925 58.4927 36.3089 58.4927Z" fill="black"/>
        <path d="M46.9579 7.24601C48.8743 7.24601 50.4278 5.70006 50.4278 3.79305C50.4278 1.88603 48.8743 0.340088 46.9579 0.340088C45.0416 0.340088 43.488 1.88603 43.488 3.79305C43.488 5.70006 45.0416 7.24601 46.9579 7.24601Z" fill="black"/>
        <path d="M46.9579 17.4858C48.8743 17.4858 50.4278 15.9399 50.4278 14.0329C50.4278 12.1258 48.8743 10.5799 46.9579 10.5799C45.0416 10.5799 43.488 12.1258 43.488 14.0329C43.488 15.9399 45.0416 17.4858 46.9579 17.4858Z" fill="black"/>
        <path d="M46.9579 27.7256C48.8743 27.7256 50.4278 26.1797 50.4278 24.2727C50.4278 22.3656 48.8743 20.8197 46.9579 20.8197C45.0416 20.8197 43.488 22.3656 43.488 24.2727C43.488 26.1797 45.0416 27.7256 46.9579 27.7256Z" fill="black"/>
        <path d="M46.9579 37.9893C48.8743 37.9893 50.4278 36.4433 50.4278 34.5363C50.4278 32.6293 48.8743 31.0833 46.9579 31.0833C45.0416 31.0833 43.488 32.6293 43.488 34.5363C43.488 36.4433 45.0416 37.9893 46.9579 37.9893Z" fill="black"/>
        <path d="M46.9579 48.2291C48.8743 48.2291 50.4278 46.6831 50.4278 44.7761C50.4278 42.8691 48.8743 41.3232 46.9579 41.3232C45.0416 41.3232 43.488 42.8691 43.488 44.7761C43.488 46.6831 45.0416 48.2291 46.9579 48.2291Z" fill="black"/>
        <path d="M46.9579 58.4927C48.8743 58.4927 50.4278 56.9467 50.4278 55.0397C50.4278 53.1327 48.8743 51.5868 46.9579 51.5868C45.0416 51.5868 43.488 53.1327 43.488 55.0397C43.488 56.9467 45.0416 58.4927 46.9579 58.4927Z" fill="black"/>
        <path d="M57.583 17.4858C59.4994 17.4858 61.0529 15.9399 61.0529 14.0329C61.0529 12.1258 59.4994 10.5799 57.583 10.5799C55.6667 10.5799 54.1131 12.1258 54.1131 14.0329C54.1131 15.9399 55.6667 17.4858 57.583 17.4858Z" fill="black"/>
        <path d="M57.583 27.7256C59.4994 27.7256 61.0529 26.1797 61.0529 24.2727C61.0529 22.3656 59.4994 20.8197 57.583 20.8197C55.6667 20.8197 54.1131 22.3656 54.1131 24.2727C54.1131 26.1797 55.6667 27.7256 57.583 27.7256Z" fill="black"/>
        <path d="M57.583 37.9893C59.4994 37.9893 61.0529 36.4433 61.0529 34.5363C61.0529 32.6293 59.4994 31.0833 57.583 31.0833C55.6667 31.0833 54.1131 32.6293 54.1131 34.5363C54.1131 36.4433 55.6667 37.9893 57.583 37.9893Z" fill="black"/>
        <path d="M57.583 48.2291C59.4994 48.2291 61.0529 46.6831 61.0529 44.7761C61.0529 42.8691 59.4994 41.3232 57.583 41.3232C55.6667 41.3232 54.1131 42.8691 54.1131 44.7761C54.1131 46.6831 55.6667 48.2291 57.583 48.2291Z" fill="black"/>
    </svg>

      <div class="rect"></div>
      <div class="circle"></div>
    </div>
  </div>

  <input type="file" id="fileInput" accept="image/*">
  <button id="uploadBtn" class="button" onclick="uploadImage()">UPLOAD</button>

  <script>
    function uploadImage() {
      const fileInput = document.getElementById("fileInput");
      const button = document.getElementById("uploadBtn");

      if (!fileInput.files.length) {
        alert("請先選擇圖片！");
        return;
      }

      const file = fileInput.files[0];
      const reader = new FileReader();

      button.innerText = "SENDING..";
      button.classList.add("sending");
      button.disabled = true;

      reader.onload = function(e) {
        const base64 = e.target.result.split(',')[1];

        fetch("https://script.google.com/macros/s/AKfycbxy-06vf2Vf3nKyhhKHk_TFJp1zLpunyPNc8LPW5mfzvfSy_WRsUoKs-7LWRgidLP7nxQ/exec", {
          method: "POST",
          headers: { "Content-Type": "application/x-www-form-urlencoded" },
          body: new URLSearchParams({
            filename: file.name,
            base64: base64,
            mimetype: file.type
          })
        })
        .then(res => res.json())
        .then(data => {
          if (data.success) {
            button.innerText = "SUCCESS";
            button.classList.remove("sending");
            button.classList.add("success");
          } else {
            button.innerText = "UPLOAD";
            button.classList.remove("sending");
            alert("❌ 上傳失敗：" + (data.error || "未知錯誤"));
          }
        })
        .catch(err => {
          button.innerText = "UPLOAD";
          button.classList.remove("sending");
          alert("❌ 發生錯誤：" + err);
        })
        .finally(() => {
          button.disabled = false;
        });
      };

      reader.readAsDataURL(file);
    }
  </script>
</body>
</html>
